<mvc:View controllerName="webapp.Controller.Cadastro"
    xmlns="sap.m"
    xmlns:core="sap.ui.core" 
    xmlns:u="sap.ui.unified"
    xmlns:l="sap.ui.layout"
    displayBlock="true"
    xmlns:mvc="sap.ui.core.mvc">
    <Page title="{i18n>tituloCadastro}" titleAlignment="Center" showNavButton="true" navButtonPress=".aoClicarNoBotaoDeVoltar">
        <FlexBox direction="Row" class="sapUiLargeMarginTop sapUiLargeMarginBegin">
            <FlexBox direction="Column" class="sapUiLargeMarginEnd">
                <Label design="Bold" text="{i18n>colunaNome}*" labelFor="inputNome"/>
                <Input id="inputNome" value="{pokemon>/nome}" width="100%" placeholder="Nome do Pokémon" maxLength="11" type="Text" onChange=".aoAlterarCampoNome"/>
    
                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaApelido}*" labelFor="inputApelido" />
                <Input id="inputApelido" value="{pokemon>/apelido}" width="100%" placeholder="Apelido do Pokémon" maxLength="11" type="Text" onChange=".aoAlterarCampoApelido"/>
    
                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaNivel}*" labelFor="inputNivel"/>
                <Input id="inputNivel" value="{pokemon>/nivel}" width="100%" placeholder="Nivel do Pokémon" maxLength="3" type="Number" onChange=".aoAlterarCampoNivel"/>
    
                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaAltura}*" labelFor="inputAltura" />
                <Input id="inputAltura" value="{pokemon>/altura}" width="100%" placeholder="Altura do Pokémon" maxLength="4" type="Number" onChange=".aoAlterarCampoAltura"/>
    
                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaDataCaptura}*" labelFor="inputDataCaptura" />
                <DatePicker id="inputDataCaptura" value="{pokemon>/dataDeCaptura}" placeholder="Data de captura" width="100%" displayFormat="dd-MM-yyyy" valueFormat="yyyy-MM-ddTHH:mm:ss.mmm" onChange=".aoAlterarCampoDataDeCaptura"/>

                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaShiny}*" labelFor="inputShiny" />
                <CheckBox id="inputShiny" selected="{pokemon>/shiny}" text="Shiny" onChange=".aoAlterarCampoShiny"/>
            </FlexBox>

            <FlexBox direction="Column">
                <Label design="Bold" text="{i18n>colunaTipoPrincipal}*" labelFor="inputTipoPrincpial" />
                <ComboBox id="inputTipoPrincipal" placeholder="Tipo principal" width="100%" items="{tiposDeDados>/TiposDosPokemons}" selectedKey="{pokemon>/tipoPrincipal}" onChange=".aoAlterarCampoTipoPrincipal">
                    <core:ListItem key="{tiposDeDados>indice}" text="{tiposDeDados>nome}"/>
                </ComboBox>
    
                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaTipoSecundario}" labelFor="inputTipoSecundario" />
                <ComboBox id="inputTipoSecundario" placeholder="Tipo secundário" width="100%" items="{tiposDeDados>/TiposDosPokemons}" selectedKey="{pokemon>/tipoSecundario}" onChange=".aoAlterarCampoSecundario">
                    <core:ListItem key="{tiposDeDados>indice}" text="{tiposDeDados>nome}"/>
                </ComboBox>
    
                <Label class="sapUiSmallMarginTop" design="Bold" text="{i18n>colunaFoto}" labelFor="inputFoto" />
                <FlexBox direction="ColumnReverse">
                    <u:FileUploader 
                    id="inputFoto"
                    multiple="false" 
                    uploadUrl="upload/"
                    value="{pokemon>/foto}"
                    tooltip="Upload your file to the local server"
                    icon="sap-icon://add-photo" 
                    uploadOnChange="false" 
                    change="aoCarregarImagem"
                    sendXHR="true" 
                    useMultipart="false" 
                    fileType="JPG,JPEG,jpeg,jpg,PNG,png"
                    onChange=".aoAlterarCampoFoto"
                    />
                    <Image src="data:image/png;base64,{pokemon>/foto}" width="80px" height="80px"/>
                </FlexBox>
            </FlexBox>
        </FlexBox>
        
        <footer>
            <Toolbar>
                <ToolbarSpacer/>
                <Button type="Accept" text="{i18n>botaoSalvar}" press=".aoClicarNoBotaoDeSalvar"/>
                <Button type="Reject" text="{i18n>botaoCancelar}" press=".aoClicarNoBotaoDeCancelar"/>
            </Toolbar>
        </footer>

    </Page>
</mvc:View>